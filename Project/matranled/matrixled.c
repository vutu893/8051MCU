//ma tran 7x5: 7 hang, 5coy
//ic dem 74hc245 vi mot chan cua vi xu ly chi nhan duoc 10mA trong khi trong ma tran cac led noi song song ==> can dem cho chan vxl cung nhu luc xuat dong
//dung dem dao uln2803
#include <REGX52.H>
#include "../../Lib/delay.h"

unsigned char code Font5x7[10][7]={{0x0E,0x11,0x13,0x15,0x19,0x11,0x0E},			// Font cua so 0
								   {0x1F, 0x04, 0x04, 0x04, 0x14, 0x0C, 0x04},		// Font cua so 1
								   {0x1F, 0x08, 0x04, 0x02, 0x01, 0x11, 0x0E},
								   {0x0E, 0x11, 0x01, 0x06, 0x01, 0x11, 0x0E},
								   {0x02, 0x1F, 0x12, 0x08, 0x04, 0x02, 0x01},
								   {0x1E, 0x01, 0x01, 0x01, 0x1E, 0x10, 0x1F},
								   {0x0E, 0x11, 0x11, 0x1E, 0x10, 0x11, 0x0E},
								   {0x04, 0x04, 0x04, 0x02, 0x01, 0x01, 0x1F},
								   {0x0E, 0x11, 0x11, 0x0E, 0x11, 0x11, 0x0E},
								   {0x0E, 0x01, 0x01, 0x0F, 0x11, 0x11, 0x0E}};

void main()
{	
	unsigned char i;
	unsigned char cnt;
	unsigned char j;

	while(1)
	{
		for(cnt=0;cnt<10;cnt++)
		{
			for(j=0;j<142;j++)
			{
				for(i=0;i<7;i++)
				{
					P0 = Font5x7[cnt][i];
					P3 = 0x01<<i;
					delay_ms(1);
					P3 = 0x00;
				}
			}
		}
	}
}

